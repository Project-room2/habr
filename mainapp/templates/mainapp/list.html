<!-- Начало mainapp/templates/list.html -->
<!--  Список статей на главной странице -->

{% block content %}
{% for habr in habrs %}
<article>
    <div class="row mb-2">
        <div class="col-12">
            <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                <div class="col p-4 d-flex flex-column position-static">
                    <strong class="d-inline-block mb-2 text-primary">{{ habr.category }}</strong>
                    <h3 class="mb-0">{{ habr.title }}</h3>
                    <div class="mb-1 text-muted">{{ habr.time_create|date }}, {{ habr.user.get_full_name }}</div>
                    <p class="card-text mb-auto">{{ habr.content|linebreaks|truncatechars:200 }}</p>
                    <a href="{% url 'index:habr' habr.slug %}" class="stretched-link">Читать хабр</a>
                </div>
                <div class="col-auto d-none d-lg-block">
                    <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg"
                         role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice"
                         focusable="false">
                        <rect width="100%" height="100%" fill="#55595c"/>
                        <text x="50%" y="50%" fill="#eceeef" dy=".3em">Картинка</text>
                    </svg>
                </div>
            </div>
        </div>
    </div>
</article>
{% endfor %}

<div>
    {% if page_obj.has_other_pages %}
    <nav aria-label="...">
        <ul class="pagination">
            {% if page_obj.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">&lt;</a>
            </li>
            {% endif %}
            {% for p in paginator.page_range %}
            {% if page_obj.number == p %}
            <li class="page-item active" aria-current="page"><a class="page-link" href="?page={{ p }}">{{ p }}</a></li>
            {% elif p >= page_obj.number|add:-2 and p <= page_obj.number|add:2 %}
            <li class="page-item">
                <a class="page-link" href="?page={{ p }}">{{ p }}</a>
            </li>
            {% endif %}
            {% endfor %}
            {% if page_obj.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ page_obj.next_page_number }}">&gt;</a>
            </li>
            {% endif %}
        </ul>
    </nav>
    {% endif %}
</div>

{% endblock %}
<!-- Конец mainapp/templates/list.html -->

